# Security presets

Shared security-related Renovate presets for Kong. This directory centralizes our security posture and incident response in three parts:

- [security/base.json](./base.json) — base security preset that applies security-focused defaults (labels, vulnerability alerts, and treatment of security actions). Most repositories consume this via the top-level [default preset](../README.md) or by extending it directly
- [security/_incidents.json](./_incidents.json) — auto-generated aggregator preset that composes all incident-response presets from the [incidents/](./incidents) subdirectory. Do not edit this file manually; CI updates it on pull requests
- [security/incidents/](./incidents) — narrowly scoped, temporary presets created during supply‑chain or ecosystem incidents

> [!TIP]
> Most repositories can simply extend the top‑level default preset (`Kong/public-shared-renovate`), which already includes `security/base`. Extend `security/base` directly only when you need to opt in to security settings without the rest of the default preset.

## Using the security base preset

Extend the base security preset to enable security labels and vulnerability alerts:

```json
{ "extends": ["Kong/public-shared-renovate//security/base"] }
```

## About incident presets

- When you add or change a preset under `security/incidents`, CI automatically updates the aggregator preset in your PR: [security/_incidents.json](./_incidents.json)
- No manual edits to the aggregator are needed (and changes to it will be overwritten by CI)
- A validation workflow ensures every preset under `security/incidents` is included in the aggregator and that [security/base.json](./base.json) composes it
- Consumers inherit incident mitigations automatically via the base preset

## Authoring and wiring guidance

For the full process, directory layout, common patterns, and maintenance expectations, see:
- Contributor guide: [CONTRIBUTING.md — Security incident response presets](../CONTRIBUTING.md#security-incident-response-presets)
- Customization examples in the root README: [Security preset customization examples](../README.md#security-preset-customization-examples)
